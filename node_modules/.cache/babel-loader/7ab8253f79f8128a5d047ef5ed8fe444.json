{"ast":null,"code":"import _toConsumableArray from\"/Users/syoh/Desktop/App/portfolio.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Users/syoh/Desktop/App/portfolio.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/syoh/Desktop/App/portfolio.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/syoh/Desktop/App/portfolio.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/syoh/Desktop/App/portfolio.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/syoh/Desktop/App/portfolio.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import'../css/TwentyFourtyEight.css';var TwentyFourtyEight=/*#__PURE__*/function(_React$Component){_inherits(TwentyFourtyEight,_React$Component);var _super=_createSuper(TwentyFourtyEight);function TwentyFourtyEight(props){var _this;_classCallCheck(this,TwentyFourtyEight);_this=_super.call(this,props);_this.state={matrix:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],rows:[0,1],columns:[0,1,2,3],spaces:16,score:0,initiated:false};_this.handleLeftSelect=_this.handleLeftSelect.bind(_assertThisInitialized(_this));_this.handleRightSelect=_this.handleRightSelect.bind(_assertThisInitialized(_this));_this.handleUpSelect=_this.handleUpSelect.bind(_assertThisInitialized(_this));_this.handleDownSelect=_this.handleDownSelect.bind(_assertThisInitialized(_this));_this.traverseMatrixVertical=_this.traverseMatrixVertical.bind(_assertThisInitialized(_this));_this.traverseMatrixHorizontal=_this.traverseMatrixHorizontal.bind(_assertThisInitialized(_this));_this.addNewSquare=_this.addNewSquare.bind(_assertThisInitialized(_this));_this.getMovesLeftCount=_this.getMovesLeftCount.bind(_assertThisInitialized(_this));_this.checkKeyPress=_this.checkKeyPress.bind(_assertThisInitialized(_this));_this.initiateNewGame=_this.initiateNewGame.bind(_assertThisInitialized(_this));return _this;}_createClass(TwentyFourtyEight,[{key:\"initiateNewGame\",value:function initiateNewGame(){var initiated=this.state.initiated;if(initiated){if(window.confirm(\"are you sure?\")){this.setState({matrix:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],rows:[0,1],columns:[0,1,2,3],spaces:16,score:0,initiated:false});}}else{this.addNewSquare();this.setState({initiated:true});}}},{key:\"getMovesLeftCount\",value:function getMovesLeftCount(){var _this$state=this.state,matrix=_this$state.matrix,score=_this$state.score;var spaces=[].concat(_toConsumableArray(matrix[0]),_toConsumableArray(matrix[1]),_toConsumableArray(matrix[2]),_toConsumableArray(matrix[3]));var spacesLeft=spaces.filter(function(value){return value===0;});if(spacesLeft.length===-1)alert(\"game over\");this.setState({spaces:spacesLeft.length,score:score+1});}},{key:\"traverseMatrixHorizontal\",value:function traverseMatrixHorizontal(direction){var matrix=this.state.matrix;for(var i=0;i<4;i++){var occupied=[];var remainder=[];var empty=[];for(var j=0;j<4;j++){matrix[i][j]===0?empty.push(matrix[i][j]):occupied.push(matrix[i][j]);}var row=[];while(occupied.length>0){var value=occupied.shift();if(occupied[0]===value){occupied.shift();remainder.push(value*2);empty.push(0);}else{remainder.push(value);}}if(direction===\"right\")row=[].concat(empty,remainder);if(direction===\"left\")row=[].concat(remainder,empty);for(var k=0;k<4;k++){matrix[i][k]=row[k];}}this.setState({matrix:matrix});}},{key:\"traverseMatrixVertical\",value:function traverseMatrixVertical(direction){var matrix=this.state.matrix;for(var i=0;i<4;i++){var occupied=[];var empty=[];var remainder=[];for(var j=0;j<4;j++){matrix[j][i]===0?empty.push(matrix[j][i]):occupied.push(matrix[j][i]);}while(occupied.length>0){var value=occupied.shift();if(occupied[0]===value){occupied.shift();remainder.push(value*2);empty.push(0);}else{remainder.push(value);}}var column=[];if(direction===\"down\")column=[].concat(empty,remainder);if(direction===\"up\")column=[].concat(remainder,empty);for(var k=0;k<4;k++){matrix[k][i]=column[k];}}this.setState({matrix:matrix});}},{key:\"addNewSquare\",value:function addNewSquare(){var matrix=this.state.matrix;var moveLeft=false;matrix.forEach(function(row){if(row.includes(0))moveLeft=true;});if(!moveLeft)return\"no moves left\";var getRandomNumber=function getRandomNumber(min,max){return Math.floor(Math.random()*(max-min)+min);};var getRandomSquare=function getRandomSquare(){var row=getRandomNumber(0,4);var column=getRandomNumber(0,4);return[row,column];};var squareCoordinates=getRandomSquare();if(matrix[squareCoordinates[0]][squareCoordinates[1]]===0){matrix[squareCoordinates[0]][squareCoordinates[1]]=2;this.setState({matrix:matrix});}else{this.addNewSquare();}}},{key:\"handleLeftSelect\",value:function handleLeftSelect(){this.traverseMatrixHorizontal(\"left\");this.addNewSquare();this.getMovesLeftCount();}},{key:\"handleRightSelect\",value:function handleRightSelect(){this.traverseMatrixHorizontal(\"right\");this.addNewSquare();this.getMovesLeftCount();}},{key:\"handleUpSelect\",value:function handleUpSelect(){this.traverseMatrixVertical(\"up\");this.addNewSquare();this.getMovesLeftCount();}},{key:\"handleDownSelect\",value:function handleDownSelect(){this.traverseMatrixVertical(\"down\");this.addNewSquare();this.getMovesLeftCount();}},{key:\"checkKeyPress\",value:function checkKeyPress(key){console.log(key);var left={keyCode:37,handleDirectionSelection:this.handleLeftSelect};var right={keyCode:39,handleDirectionSelection:this.handleRightSelect};var up={keyCode:38,handleDirectionSelection:this.handleUpSelect};var down={keyCode:40,handleDirectionSelection:this.handleDownSelect};var controls=[left,right,up,down];controls.forEach(function(direction){if(direction.keyCode===key.keyCode)direction.handleDirectionSelection();});}},{key:\"componentDidMount\",value:function componentDidMount(){window.addEventListener(\"keydown\",this.checkKeyPress,false);}},{key:\"render\",value:function render(){var matrix=this.state.matrix;return/*#__PURE__*/React.createElement(\"div\",{className:\"app\"},/*#__PURE__*/React.createElement(\"h3\",null,\"2048\"),/*#__PURE__*/React.createElement(\"div\",{className:\"board\"},matrix.map(function(row,rIndex){return/*#__PURE__*/React.createElement(\"div\",{key:rIndex,className:\"row\",id:\"row-\".concat(rIndex+1)},row.map(function(box,bIndex){return/*#__PURE__*/React.createElement(\"div\",{key:bIndex,className:box!==0?\"open\":\"closed\",id:\"box-\".concat(box)},/*#__PURE__*/React.createElement(\"p\",{className:\"box\"},box!==0?box:null));}));}),/*#__PURE__*/React.createElement(\"div\",{className:\"dashboard\"},/*#__PURE__*/React.createElement(\"span\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"score\"},\"SCORE: \",\"\".concat(this.state.score)),/*#__PURE__*/React.createElement(\"span\",null)),/*#__PURE__*/React.createElement(\"div\",{className:\"controller\"},/*#__PURE__*/React.createElement(\"div\",{className:\"buttons\"},/*#__PURE__*/React.createElement(\"span\",null),/*#__PURE__*/React.createElement(\"span\",null),/*#__PURE__*/React.createElement(\"span\",null),/*#__PURE__*/React.createElement(\"button\",{className:\"button\",id:\"up\",onClick:this.handleUpSelect},/*#__PURE__*/React.createElement(\"p\",{className:\"arrow\"},\"\\u2191\")),/*#__PURE__*/React.createElement(\"span\",null),/*#__PURE__*/React.createElement(\"span\",null),/*#__PURE__*/React.createElement(\"span\",null)),/*#__PURE__*/React.createElement(\"div\",{className:\"buttons\"},/*#__PURE__*/React.createElement(\"span\",null),/*#__PURE__*/React.createElement(\"span\",null),/*#__PURE__*/React.createElement(\"button\",{className:\"button\",id:\"left\",onClick:this.handleLeftSelect,onKeyPress:function onKeyPress(){console.log(\"key press\");}},/*#__PURE__*/React.createElement(\"p\",{className:\"arrow\"},\"\\u2190\")),/*#__PURE__*/React.createElement(\"span\",null),/*#__PURE__*/React.createElement(\"button\",{className:\"button\",id:\"right\",onClick:this.handleRightSelect},/*#__PURE__*/React.createElement(\"p\",{className:\"arrow\"},\"\\u2192\")),/*#__PURE__*/React.createElement(\"span\",null),/*#__PURE__*/React.createElement(\"span\",null)),/*#__PURE__*/React.createElement(\"div\",{className:\"buttons\"},/*#__PURE__*/React.createElement(\"span\",null),/*#__PURE__*/React.createElement(\"span\",null),/*#__PURE__*/React.createElement(\"span\",null),/*#__PURE__*/React.createElement(\"button\",{className:\"button\",id:\"down\",onClick:this.handleDownSelect},/*#__PURE__*/React.createElement(\"p\",{className:\"arrow\"},\"\\u2193\")),/*#__PURE__*/React.createElement(\"span\",null),/*#__PURE__*/React.createElement(\"span\",null),/*#__PURE__*/React.createElement(\"span\",null)),/*#__PURE__*/React.createElement(\"div\",{className:\"buttons\"},/*#__PURE__*/React.createElement(\"span\",null),/*#__PURE__*/React.createElement(\"button\",{className:\"button\",id:\"restart\",onClick:this.initiateNewGame},this.state.initiated?\"Restart\":\"Play\"),/*#__PURE__*/React.createElement(\"span\",null)))));}}]);return TwentyFourtyEight;}(React.Component);export default TwentyFourtyEight;","map":{"version":3,"sources":["/Users/syoh/Desktop/App/portfolio.github.io/src/components/TwentyFourtyEight.js"],"names":["React","TwentyFourtyEight","props","state","matrix","rows","columns","spaces","score","initiated","handleLeftSelect","bind","handleRightSelect","handleUpSelect","handleDownSelect","traverseMatrixVertical","traverseMatrixHorizontal","addNewSquare","getMovesLeftCount","checkKeyPress","initiateNewGame","window","confirm","setState","spacesLeft","filter","value","length","alert","direction","i","occupied","remainder","empty","j","push","row","shift","k","column","moveLeft","forEach","includes","getRandomNumber","min","max","Math","floor","random","getRandomSquare","squareCoordinates","key","console","log","left","keyCode","handleDirectionSelection","right","up","down","controls","addEventListener","map","rIndex","box","bIndex","Component"],"mappings":"o9BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,8BAAP,C,GAGMC,CAAAA,iB,kIACJ,2BAAYC,KAAZ,CAAmB,mDACjB,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CACXC,MAAM,CAAE,CAAC,CAAC,CAAD,CAAG,CAAH,CAAK,CAAL,CAAO,CAAP,CAAD,CAAY,CAAC,CAAD,CAAG,CAAH,CAAK,CAAL,CAAO,CAAP,CAAZ,CAAuB,CAAC,CAAD,CAAG,CAAH,CAAK,CAAL,CAAO,CAAP,CAAvB,CAAkC,CAAC,CAAD,CAAG,CAAH,CAAK,CAAL,CAAO,CAAP,CAAlC,CADG,CAEXC,IAAI,CAAE,CAAC,CAAD,CAAG,CAAH,CAFK,CAGXC,OAAO,CAAE,CAAC,CAAD,CAAG,CAAH,CAAK,CAAL,CAAO,CAAP,CAHE,CAIXC,MAAM,CAAE,EAJG,CAKXC,KAAK,CAAE,CALI,CAMXC,SAAS,CAAE,KANA,CAAb,CAQA,MAAKC,gBAAL,CAAwB,MAAKA,gBAAL,CAAsBC,IAAtB,+BAAxB,CACA,MAAKC,iBAAL,CAAyB,MAAKA,iBAAL,CAAuBD,IAAvB,+BAAzB,CACA,MAAKE,cAAL,CAAsB,MAAKA,cAAL,CAAoBF,IAApB,+BAAtB,CACA,MAAKG,gBAAL,CAAwB,MAAKA,gBAAL,CAAsBH,IAAtB,+BAAxB,CACA,MAAKI,sBAAL,CAA8B,MAAKA,sBAAL,CAA4BJ,IAA5B,+BAA9B,CACA,MAAKK,wBAAL,CAAgC,MAAKA,wBAAL,CAA8BL,IAA9B,+BAAhC,CACA,MAAKM,YAAL,CAAoB,MAAKA,YAAL,CAAkBN,IAAlB,+BAApB,CACA,MAAKO,iBAAL,CAAyB,MAAKA,iBAAL,CAAuBP,IAAvB,+BAAzB,CACA,MAAKQ,aAAL,CAAqB,MAAKA,aAAL,CAAmBR,IAAnB,+BAArB,CACA,MAAKS,eAAL,CAAuB,MAAKA,eAAL,CAAqBT,IAArB,+BAAvB,CAnBiB,aAoBlB,C,uFAEiB,IACXF,CAAAA,SADW,CACE,KAAKN,KADP,CACXM,SADW,CAEhB,GAAGA,SAAH,CAAc,CACZ,GAAGY,MAAM,CAACC,OAAP,CAAe,eAAf,CAAH,CAAoC,CAClC,KAAKC,QAAL,CAAc,CACZnB,MAAM,CAAE,CAAC,CAAC,CAAD,CAAG,CAAH,CAAK,CAAL,CAAO,CAAP,CAAD,CAAY,CAAC,CAAD,CAAG,CAAH,CAAK,CAAL,CAAO,CAAP,CAAZ,CAAuB,CAAC,CAAD,CAAG,CAAH,CAAK,CAAL,CAAO,CAAP,CAAvB,CAAkC,CAAC,CAAD,CAAG,CAAH,CAAK,CAAL,CAAO,CAAP,CAAlC,CADI,CAEZC,IAAI,CAAE,CAAC,CAAD,CAAG,CAAH,CAFM,CAGZC,OAAO,CAAE,CAAC,CAAD,CAAG,CAAH,CAAK,CAAL,CAAO,CAAP,CAHG,CAIZC,MAAM,CAAE,EAJI,CAKZC,KAAK,CAAE,CALK,CAMZC,SAAS,CAAE,KANC,CAAd,EASD,CACF,CAZD,IAYO,CACL,KAAKQ,YAAL,GACA,KAAKM,QAAL,CAAc,CAACd,SAAS,CAAE,IAAZ,CAAd,EACD,CACF,C,6DAEmB,iBACI,KAAKN,KADT,CACbC,MADa,aACbA,MADa,CACLI,KADK,aACLA,KADK,CAElB,GAAID,CAAAA,MAAM,8BAAOH,MAAM,CAAC,CAAD,CAAb,qBAAqBA,MAAM,CAAC,CAAD,CAA3B,qBAAmCA,MAAM,CAAC,CAAD,CAAzC,qBAAiDA,MAAM,CAAC,CAAD,CAAvD,EAAV,CACA,GAAIoB,CAAAA,UAAU,CAAGjB,MAAM,CAACkB,MAAP,CAAc,SAACC,KAAD,QAAYA,CAAAA,KAAK,GAAK,CAAtB,EAAd,CAAjB,CACA,GAAGF,UAAU,CAACG,MAAX,GAAsB,CAAC,CAA1B,CAA6BC,KAAK,CAAC,WAAD,CAAL,CAC7B,KAAKL,QAAL,CAAc,CAAChB,MAAM,CAAEiB,UAAU,CAACG,MAApB,CAA4BnB,KAAK,CAAEA,KAAK,CAAC,CAAzC,CAAd,EACD,C,0EAEwBqB,S,CAAW,IAC7BzB,CAAAA,MAD6B,CACnB,KAAKD,KADc,CAC7BC,MAD6B,CAElC,IAAI,GAAI0B,CAAAA,CAAC,CAAG,CAAZ,CAAeA,CAAC,CAAG,CAAnB,CAAsBA,CAAC,EAAvB,CAA2B,CACzB,GAAIC,CAAAA,QAAQ,CAAG,EAAf,CACA,GAAIC,CAAAA,SAAS,CAAG,EAAhB,CACA,GAAIC,CAAAA,KAAK,CAAG,EAAZ,CACA,IAAI,GAAIC,CAAAA,CAAC,CAAG,CAAZ,CAAeA,CAAC,CAAG,CAAnB,CAAsBA,CAAC,EAAvB,CAA2B,CACzB9B,MAAM,CAAC0B,CAAD,CAAN,CAAUI,CAAV,IAAiB,CAAjB,CAAqBD,KAAK,CAACE,IAAN,CAAW/B,MAAM,CAAC0B,CAAD,CAAN,CAAUI,CAAV,CAAX,CAArB,CAAgDH,QAAQ,CAACI,IAAT,CAAc/B,MAAM,CAAC0B,CAAD,CAAN,CAAUI,CAAV,CAAd,CAAhD,CACD,CACD,GAAIE,CAAAA,GAAG,CAAG,EAAV,CACA,MAAML,QAAQ,CAACJ,MAAT,CAAkB,CAAxB,CAA2B,CACzB,GAAID,CAAAA,KAAK,CAAGK,QAAQ,CAACM,KAAT,EAAZ,CACA,GAAGN,QAAQ,CAAC,CAAD,CAAR,GAAgBL,KAAnB,CAA0B,CACxBK,QAAQ,CAACM,KAAT,GACAL,SAAS,CAACG,IAAV,CAAeT,KAAK,CAAG,CAAvB,EACAO,KAAK,CAACE,IAAN,CAAW,CAAX,EACD,CAJD,IAIO,CACLH,SAAS,CAACG,IAAV,CAAeT,KAAf,EACD,CACF,CACD,GAAGG,SAAS,GAAK,OAAjB,CAA0BO,GAAG,WAAOH,KAAP,CAAiBD,SAAjB,CAAH,CAC1B,GAAGH,SAAS,GAAK,MAAjB,CAAyBO,GAAG,WAAOJ,SAAP,CAAqBC,KAArB,CAAH,CACzB,IAAI,GAAIK,CAAAA,CAAC,CAAG,CAAZ,CAAeA,CAAC,CAAG,CAAnB,CAAsBA,CAAC,EAAvB,CAA2B,CACzBlC,MAAM,CAAC0B,CAAD,CAAN,CAAUQ,CAAV,EAAeF,GAAG,CAACE,CAAD,CAAlB,CACD,CACF,CACD,KAAKf,QAAL,CAAc,CAACnB,MAAM,CAANA,MAAD,CAAd,EACD,C,sEAEsByB,S,CAAW,IAC3BzB,CAAAA,MAD2B,CACjB,KAAKD,KADY,CAC3BC,MAD2B,CAEhC,IAAI,GAAI0B,CAAAA,CAAC,CAAG,CAAZ,CAAeA,CAAC,CAAG,CAAnB,CAAsBA,CAAC,EAAvB,CAA2B,CACzB,GAAIC,CAAAA,QAAQ,CAAG,EAAf,CACA,GAAIE,CAAAA,KAAK,CAAG,EAAZ,CACA,GAAID,CAAAA,SAAS,CAAG,EAAhB,CACA,IAAI,GAAIE,CAAAA,CAAC,CAAG,CAAZ,CAAeA,CAAC,CAAG,CAAnB,CAAsBA,CAAC,EAAvB,CAA2B,CACzB9B,MAAM,CAAC8B,CAAD,CAAN,CAAUJ,CAAV,IAAiB,CAAjB,CAAqBG,KAAK,CAACE,IAAN,CAAW/B,MAAM,CAAC8B,CAAD,CAAN,CAAUJ,CAAV,CAAX,CAArB,CAAgDC,QAAQ,CAACI,IAAT,CAAc/B,MAAM,CAAC8B,CAAD,CAAN,CAAUJ,CAAV,CAAd,CAAhD,CACD,CACD,MAAMC,QAAQ,CAACJ,MAAT,CAAkB,CAAxB,CAA2B,CACzB,GAAID,CAAAA,KAAK,CAAGK,QAAQ,CAACM,KAAT,EAAZ,CACA,GAAGN,QAAQ,CAAC,CAAD,CAAR,GAAgBL,KAAnB,CAA0B,CACxBK,QAAQ,CAACM,KAAT,GACAL,SAAS,CAACG,IAAV,CAAeT,KAAK,CAAG,CAAvB,EACAO,KAAK,CAACE,IAAN,CAAW,CAAX,EACD,CAJD,IAIO,CACLH,SAAS,CAACG,IAAV,CAAeT,KAAf,EACD,CACF,CACD,GAAIa,CAAAA,MAAM,CAAG,EAAb,CACA,GAAGV,SAAS,GAAK,MAAjB,CAAyBU,MAAM,WAAON,KAAP,CAAiBD,SAAjB,CAAN,CACzB,GAAGH,SAAS,GAAK,IAAjB,CAAuBU,MAAM,WAAOP,SAAP,CAAqBC,KAArB,CAAN,CACvB,IAAI,GAAIK,CAAAA,CAAC,CAAG,CAAZ,CAAeA,CAAC,CAAG,CAAnB,CAAsBA,CAAC,EAAvB,CAA2B,CACzBlC,MAAM,CAACkC,CAAD,CAAN,CAAUR,CAAV,EAAeS,MAAM,CAACD,CAAD,CAArB,CACD,CACF,CACD,KAAKf,QAAL,CAAc,CAACnB,MAAM,CAANA,MAAD,CAAd,EACD,C,mDAEc,IACRA,CAAAA,MADQ,CACE,KAAKD,KADP,CACRC,MADQ,CAEb,GAAIoC,CAAAA,QAAQ,CAAG,KAAf,CACApC,MAAM,CAACqC,OAAP,CAAe,SAAAL,GAAG,CAAI,CACpB,GAAGA,GAAG,CAACM,QAAJ,CAAa,CAAb,CAAH,CAAoBF,QAAQ,CAAG,IAAX,CACrB,CAFD,EAGA,GAAG,CAACA,QAAJ,CAAc,MAAO,eAAP,CACd,GAAIG,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,GAAD,CAAMC,GAAN,CAAc,CAClC,MAAOC,CAAAA,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,IAAiBH,GAAG,CAAGD,GAAvB,EAA8BA,GAAzC,CAAP,CACD,CAFD,CAGA,GAAIK,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CAC1B,GAAIb,CAAAA,GAAG,CAAGO,eAAe,CAAC,CAAD,CAAG,CAAH,CAAzB,CACA,GAAIJ,CAAAA,MAAM,CAAGI,eAAe,CAAC,CAAD,CAAG,CAAH,CAA5B,CACA,MAAO,CAACP,GAAD,CAAMG,MAAN,CAAP,CACD,CAJD,CAKA,GAAIW,CAAAA,iBAAiB,CAAGD,eAAe,EAAvC,CACA,GAAG7C,MAAM,CAAC8C,iBAAiB,CAAC,CAAD,CAAlB,CAAN,CAA6BA,iBAAiB,CAAC,CAAD,CAA9C,IAAuD,CAA1D,CAA6D,CAC3D9C,MAAM,CAAC8C,iBAAiB,CAAC,CAAD,CAAlB,CAAN,CAA6BA,iBAAiB,CAAC,CAAD,CAA9C,EAAqD,CAArD,CACA,KAAK3B,QAAL,CAAc,CAACnB,MAAM,CAANA,MAAD,CAAd,EACD,CAHD,IAGO,CACL,KAAKa,YAAL,GACD,CACF,C,2DAGkB,CACjB,KAAKD,wBAAL,CAA8B,MAA9B,EACA,KAAKC,YAAL,GACA,KAAKC,iBAAL,GACD,C,6DACmB,CAClB,KAAKF,wBAAL,CAA8B,OAA9B,EACA,KAAKC,YAAL,GACA,KAAKC,iBAAL,GACD,C,uDACgB,CACf,KAAKH,sBAAL,CAA4B,IAA5B,EACA,KAAKE,YAAL,GACA,KAAKC,iBAAL,GACD,C,2DACkB,CACjB,KAAKH,sBAAL,CAA4B,MAA5B,EACA,KAAKE,YAAL,GACA,KAAKC,iBAAL,GACD,C,oDACaiC,G,CAAK,CACjBC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACA,GAAIG,CAAAA,IAAI,CAAG,CACTC,OAAO,CAAE,EADA,CAETC,wBAAwB,CAAE,KAAK9C,gBAFtB,CAAX,CAIA,GAAI+C,CAAAA,KAAK,CAAG,CACVF,OAAO,CAAE,EADC,CAEVC,wBAAwB,CAAE,KAAK5C,iBAFrB,CAAZ,CAIA,GAAI8C,CAAAA,EAAE,CAAG,CACPH,OAAO,CAAE,EADF,CAEPC,wBAAwB,CAAE,KAAK3C,cAFxB,CAAT,CAIA,GAAI8C,CAAAA,IAAI,CAAG,CACTJ,OAAO,CAAE,EADA,CAETC,wBAAwB,CAAE,KAAK1C,gBAFtB,CAAX,CAIA,GAAI8C,CAAAA,QAAQ,CAAG,CAACN,IAAD,CAAOG,KAAP,CAAcC,EAAd,CAAkBC,IAAlB,CAAf,CACAC,QAAQ,CAACnB,OAAT,CAAiB,SAAAZ,SAAS,CAAI,CAC5B,GAAGA,SAAS,CAAC0B,OAAV,GAAsBJ,GAAG,CAACI,OAA7B,CAAsC1B,SAAS,CAAC2B,wBAAV,GACvC,CAFD,EAGD,C,6DAEmB,CAClBnC,MAAM,CAACwC,gBAAP,CAAwB,SAAxB,CAAmC,KAAK1C,aAAxC,CAAuD,KAAvD,EACD,C,uCAEQ,IACAf,CAAAA,MADA,CACU,KAAKD,KADf,CACAC,MADA,CAEP,mBACE,2BAAK,SAAS,CAAC,KAAf,eACE,qCADF,cAEE,2BAAK,SAAS,CAAC,OAAf,EACGA,MAAM,CAAC0D,GAAP,CAAW,SAAC1B,GAAD,CAAM2B,MAAN,qBACV,2BAAK,GAAG,CAAEA,MAAV,CAAkB,SAAS,CAAC,KAA5B,CAAkC,EAAE,eAASA,MAAM,CAAC,CAAhB,CAApC,EACG3B,GAAG,CAAC0B,GAAJ,CAAQ,SAACE,GAAD,CAAMC,MAAN,qBACP,2BAAK,GAAG,CAAEA,MAAV,CAAkB,SAAS,CAAED,GAAG,GAAK,CAAR,CAAY,MAAZ,CAAqB,QAAlD,CAA4D,EAAE,eAASA,GAAT,CAA9D,eACE,yBAAG,SAAS,CAAC,KAAb,EAAoBA,GAAG,GAAK,CAAR,CAAYA,GAAZ,CAAkB,IAAtC,CADF,CADO,EAAR,CADH,CADU,EAAX,CADH,cAUE,2BAAK,SAAS,CAAC,WAAf,eACE,gCADF,cAEE,2BAAK,SAAS,CAAC,OAAf,sBACa,KAAK7D,KAAL,CAAWK,KADxB,EAFF,cAKE,gCALF,CAVF,cAiBE,2BAAK,SAAS,CAAC,YAAf,eACE,2BAAK,SAAS,CAAC,SAAf,eACE,gCADF,cAEE,gCAFF,cAGE,gCAHF,cAIE,8BACI,SAAS,CAAC,QADd,CAEI,EAAE,CAAC,IAFP,CAGI,OAAO,CAAE,KAAKK,cAHlB,eAKI,yBAAG,SAAS,CAAC,OAAb,WALJ,CAJF,cAWE,gCAXF,cAYE,gCAZF,cAaE,gCAbF,CADF,cAgBE,2BAAK,SAAS,CAAC,SAAf,eACE,gCADF,cAEE,gCAFF,cAGE,8BACE,SAAS,CAAC,QADZ,CAEE,EAAE,CAAC,MAFL,CAGE,OAAO,CAAE,KAAKH,gBAHhB,CAIE,UAAU,CAAE,qBAAM,CAAC0C,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyB,CAJ9C,eAME,yBAAG,SAAS,CAAC,OAAb,WANF,CAHF,cAWE,gCAXF,cAYE,8BACE,SAAS,CAAC,QADZ,CAEE,EAAE,CAAC,OAFL,CAGE,OAAO,CAAE,KAAKzC,iBAHhB,eAKE,yBAAG,SAAS,CAAC,OAAb,WALF,CAZF,cAmBE,gCAnBF,cAoBE,gCApBF,CAhBF,cAsCE,2BAAK,SAAS,CAAC,SAAf,eACE,gCADF,cAEE,gCAFF,cAGE,gCAHF,cAIE,8BACI,SAAS,CAAC,QADd,CAEI,EAAE,CAAC,MAFP,CAGI,OAAO,CAAE,KAAKE,gBAHlB,eAKI,yBAAG,SAAS,CAAC,OAAb,WALJ,CAJF,cAWE,gCAXF,cAYE,gCAZF,cAaE,gCAbF,CAtCF,cAqDE,2BAAK,SAAS,CAAC,SAAf,eACE,gCADF,cAEE,8BACI,SAAS,CAAC,QADd,CAEI,EAAE,CAAC,SAFP,CAGI,OAAO,CAAE,KAAKM,eAHlB,EAKK,KAAKjB,KAAL,CAAWM,SAAX,CAAuB,SAAvB,CAAmC,MALxC,CAFF,cASE,gCATF,CArDF,CAjBF,CAFF,CADF,CAwFD,C,+BAhR6BT,KAAK,CAACkE,S,EAmRtC,cAAejE,CAAAA,iBAAf","sourcesContent":["import React from 'react';\nimport '../css/TwentyFourtyEight.css';\n\n\nclass TwentyFourtyEight extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      matrix: [[0,0,0,0], [0,0,0,0], [0,0,0,0], [0,0,0,0]],\n      rows: [0,1],\n      columns: [0,1,2,3],\n      spaces: 16,\n      score: 0,\n      initiated: false\n    }\n    this.handleLeftSelect = this.handleLeftSelect.bind(this);\n    this.handleRightSelect = this.handleRightSelect.bind(this);\n    this.handleUpSelect = this.handleUpSelect.bind(this);\n    this.handleDownSelect = this.handleDownSelect.bind(this);\n    this.traverseMatrixVertical = this.traverseMatrixVertical.bind(this);\n    this.traverseMatrixHorizontal = this.traverseMatrixHorizontal.bind(this);\n    this.addNewSquare = this.addNewSquare.bind(this);\n    this.getMovesLeftCount = this.getMovesLeftCount.bind(this);\n    this.checkKeyPress = this.checkKeyPress.bind(this);\n    this.initiateNewGame = this.initiateNewGame.bind(this);\n  }\n\n  initiateNewGame() {\n    var {initiated} = this.state;\n    if(initiated) {\n      if(window.confirm(\"are you sure?\")) {\n        this.setState({\n          matrix: [[0,0,0,0], [0,0,0,0], [0,0,0,0], [0,0,0,0]],\n          rows: [0,1],\n          columns: [0,1,2,3],\n          spaces: 16,\n          score: 0,\n          initiated: false\n        })\n        \n      }\n    } else {\n      this.addNewSquare();\n      this.setState({initiated: true});\n    }\n  }\n\n  getMovesLeftCount() {\n    var {matrix, score} = this.state;\n    var spaces = [...matrix[0], ...matrix[1], ...matrix[2], ...matrix[3]]\n    var spacesLeft = spaces.filter((value) => (value === 0));\n    if(spacesLeft.length === -1) alert(\"game over\")\n    this.setState({spaces: spacesLeft.length, score: score+1})\n  }\n\n  traverseMatrixHorizontal(direction) {\n    var {matrix} = this.state;\n    for(var i = 0; i < 4; i++) {\n      var occupied = [];\n      var remainder = [];\n      var empty = [];\n      for(var j = 0; j < 4; j++) {\n        matrix[i][j] === 0 ? empty.push(matrix[i][j]) : occupied.push(matrix[i][j])\n      }\n      var row = [];\n      while(occupied.length > 0) {\n        var value = occupied.shift();\n        if(occupied[0] === value) {\n          occupied.shift();\n          remainder.push(value * 2)\n          empty.push(0);\n        } else {\n          remainder.push(value);\n        }\n      }\n      if(direction === \"right\") row = [...empty, ...remainder];\n      if(direction === \"left\") row = [...remainder, ...empty]\n      for(var k = 0; k < 4; k++) {\n        matrix[i][k] = row[k]\n      }\n    }\n    this.setState({matrix})\n  }\n\n  traverseMatrixVertical(direction) {\n    var {matrix} = this.state;\n    for(var i = 0; i < 4; i++) {\n      var occupied = [];\n      var empty = [];\n      var remainder = [];\n      for(var j = 0; j < 4; j++) {\n        matrix[j][i] === 0 ? empty.push(matrix[j][i]) : occupied.push(matrix[j][i])\n      }\n      while(occupied.length > 0) {\n        var value = occupied.shift();\n        if(occupied[0] === value) {\n          occupied.shift();\n          remainder.push(value * 2)\n          empty.push(0);\n        } else {\n          remainder.push(value);\n        }\n      }\n      var column = [];\n      if(direction === \"down\") column = [...empty, ...remainder];\n      if(direction === \"up\") column = [...remainder, ...empty]\n      for(var k = 0; k < 4; k++) {\n        matrix[k][i] = column[k]\n      }\n    }\n    this.setState({matrix})\n  }\n\n  addNewSquare() {\n    var {matrix} = this.state;\n    var moveLeft = false;\n    matrix.forEach(row => {\n      if(row.includes(0)) moveLeft = true;\n    })\n    if(!moveLeft) return \"no moves left\"\n    var getRandomNumber = (min, max) => {\n      return Math.floor(Math.random() * (max - min) + min);\n    }\n    var getRandomSquare = () => {\n      var row = getRandomNumber(0,4);\n      var column = getRandomNumber(0,4)\n      return [row, column];\n    }\n    var squareCoordinates = getRandomSquare();\n    if(matrix[squareCoordinates[0]][squareCoordinates[1]] === 0) {\n      matrix[squareCoordinates[0]][squareCoordinates[1]] = 2;\n      this.setState({matrix})\n    } else {\n      this.addNewSquare();\n    }\n  }\n\n\n  handleLeftSelect() {\n    this.traverseMatrixHorizontal(\"left\")\n    this.addNewSquare();\n    this.getMovesLeftCount();\n  }\n  handleRightSelect() {\n    this.traverseMatrixHorizontal(\"right\");\n    this.addNewSquare();\n    this.getMovesLeftCount();\n  }\n  handleUpSelect() {\n    this.traverseMatrixVertical(\"up\");\n    this.addNewSquare();\n    this.getMovesLeftCount();\n  }\n  handleDownSelect() {\n    this.traverseMatrixVertical(\"down\");\n    this.addNewSquare();\n    this.getMovesLeftCount();\n  }\n  checkKeyPress(key) {\n    console.log(key)\n    var left = {\n      keyCode: 37,\n      handleDirectionSelection: this.handleLeftSelect\n    }\n    var right = {\n      keyCode: 39,\n      handleDirectionSelection: this.handleRightSelect\n    }\n    var up = {\n      keyCode: 38,\n      handleDirectionSelection: this.handleUpSelect\n    }\n    var down = {\n      keyCode: 40,\n      handleDirectionSelection: this.handleDownSelect\n    }\n    var controls = [left, right, up, down];\n    controls.forEach(direction => {\n      if(direction.keyCode === key.keyCode) direction.handleDirectionSelection();\n    })\n  }\n\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.checkKeyPress, false);\n  }\n\n  render() {\n    const {matrix} = this.state;\n    return (\n      <div className=\"app\">\n        <h3>2048</h3>\n        <div className=\"board\">\n          {matrix.map((row, rIndex) => (\n            <div key={rIndex} className=\"row\" id={`row-${rIndex+1}`}>\n              {row.map((box, bIndex) => (\n                <div key={bIndex} className={box !== 0 ? \"open\" : \"closed\"} id={`box-${box}`}>\n                  <p className=\"box\">{box !== 0 ? box : null}</p>\n                </div>\n              ))}\n            </div>\n          ))}\n          <div className=\"dashboard\">\n            <span/>\n            <div className=\"score\">\n              SCORE: {`${this.state.score}`}\n            </div>\n            <span/>\n          </div>\n          <div className=\"controller\">\n            <div className=\"buttons\">\n              <span/>\n              <span/>\n              <span/>\n              <button \n                  className=\"button\" \n                  id=\"up\"\n                  onClick={this.handleUpSelect}\n                >\n                  <p className=\"arrow\">&uarr;</p>\n              </button>\n              <span/>\n              <span/>\n              <span/>\n            </div>\n            <div className=\"buttons\">\n              <span/>\n              <span/>\n              <button \n                className=\"button\" \n                id=\"left\"\n                onClick={this.handleLeftSelect}\n                onKeyPress={() => {console.log(\"key press\")}}\n              >\n                <p className=\"arrow\">&larr;</p>\n              </button>\n              <span/>\n              <button \n                className=\"button\" \n                id=\"right\"\n                onClick={this.handleRightSelect}\n              >\n                <p className=\"arrow\">&rarr;</p>\n              </button>\n              <span/>\n              <span/>\n            </div>\n            <div className=\"buttons\">\n              <span/>\n              <span/>\n              <span/>\n              <button \n                  className=\"button\" \n                  id=\"down\"\n                  onClick={this.handleDownSelect}\n                >\n                  <p className=\"arrow\">&darr;</p>\n              </button>\n              <span/>\n              <span/>\n              <span/>\n            </div>\n            <div className=\"buttons\">\n              <span/>\n              <button \n                  className=\"button\"\n                  id=\"restart\"\n                  onClick={this.initiateNewGame}\n                >\n                  {this.state.initiated ? \"Restart\" : \"Play\"}\n              </button>\n              <span/>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default TwentyFourtyEight;\n"]},"metadata":{},"sourceType":"module"}