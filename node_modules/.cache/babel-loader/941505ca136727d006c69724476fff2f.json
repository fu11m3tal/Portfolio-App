{"ast":null,"code":"var _jsxFileName = \"/Users/syoh/Desktop/App/portfolio.github.io/src/components/TwentyFourtyEight.js\";\nimport React from 'react';\nimport '../css/TwentyFourtyEight.css';\n\nclass TwentyFourtyEight extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      matrix: [[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]],\n      rows: [0, 1],\n      columns: [0, 1, 2, 3],\n      spaces: 16,\n      score: 0,\n      initiated: false\n    };\n    this.handleLeftSelect = this.handleLeftSelect.bind(this);\n    this.handleRightSelect = this.handleRightSelect.bind(this);\n    this.handleUpSelect = this.handleUpSelect.bind(this);\n    this.handleDownSelect = this.handleDownSelect.bind(this);\n    this.traverseMatrixVertical = this.traverseMatrixVertical.bind(this);\n    this.traverseMatrixHorizontal = this.traverseMatrixHorizontal.bind(this);\n    this.addNewSquare = this.addNewSquare.bind(this);\n    this.getMovesLeftCount = this.getMovesLeftCount.bind(this);\n    this.checkKeyPress = this.checkKeyPress.bind(this);\n    this.initiateNewGame = this.initiateNewGame.bind(this);\n  }\n\n  initiateNewGame() {\n    var {\n      initiated\n    } = this.state;\n\n    if (initiated) {\n      if (window.confirm(\"are you sure?\")) {\n        this.setState({\n          matrix: [[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]],\n          rows: [0, 1],\n          columns: [0, 1, 2, 3],\n          spaces: 16,\n          score: 0,\n          initiated: false\n        });\n      }\n    } else {\n      this.addNewSquare();\n      this.setState({\n        initiated: true\n      });\n    }\n  }\n\n  getMovesLeftCount() {\n    var {\n      matrix,\n      score\n    } = this.state;\n    var spaces = [...matrix[0], ...matrix[1], ...matrix[2], ...matrix[3]];\n    var spacesLeft = spaces.filter(value => value === 0);\n    if (spacesLeft.length === -1) alert(\"game over\");\n    this.setState({\n      spaces: spacesLeft.length,\n      score: score + 1\n    });\n  }\n\n  traverseMatrixHorizontal(direction) {\n    var {\n      matrix\n    } = this.state;\n\n    for (var i = 0; i < 4; i++) {\n      var occupied = [];\n      var remainder = [];\n      var empty = [];\n\n      for (var j = 0; j < 4; j++) {\n        matrix[i][j] === 0 ? empty.push(matrix[i][j]) : occupied.push(matrix[i][j]);\n      }\n\n      var row = [];\n\n      while (occupied.length > 0) {\n        var value = occupied.shift();\n\n        if (occupied[0] === value) {\n          occupied.shift();\n          remainder.push(value * 2);\n          empty.push(0);\n        } else {\n          remainder.push(value);\n        }\n      }\n\n      if (direction === \"right\") row = [...empty, ...remainder];\n      if (direction === \"left\") row = [...remainder, ...empty];\n\n      for (var k = 0; k < 4; k++) {\n        matrix[i][k] = row[k];\n      }\n    }\n\n    this.setState({\n      matrix\n    });\n  }\n\n  traverseMatrixVertical(direction) {\n    var {\n      matrix\n    } = this.state;\n\n    for (var i = 0; i < 4; i++) {\n      var occupied = [];\n      var empty = [];\n      var remainder = [];\n\n      for (var j = 0; j < 4; j++) {\n        matrix[j][i] === 0 ? empty.push(matrix[j][i]) : occupied.push(matrix[j][i]);\n      }\n\n      while (occupied.length > 0) {\n        var value = occupied.shift();\n\n        if (occupied[0] === value) {\n          occupied.shift();\n          remainder.push(value * 2);\n          empty.push(0);\n        } else {\n          remainder.push(value);\n        }\n      }\n\n      var column = [];\n      if (direction === \"down\") column = [...empty, ...remainder];\n      if (direction === \"up\") column = [...remainder, ...empty];\n\n      for (var k = 0; k < 4; k++) {\n        matrix[k][i] = column[k];\n      }\n    }\n\n    this.setState({\n      matrix\n    });\n  }\n\n  addNewSquare() {\n    var {\n      matrix\n    } = this.state;\n    var moveLeft = false;\n    matrix.forEach(row => {\n      if (row.includes(0)) moveLeft = true;\n    });\n    if (!moveLeft) return \"no moves left\";\n\n    var getRandomNumber = (min, max) => {\n      return Math.floor(Math.random() * (max - min) + min);\n    };\n\n    var getRandomSquare = () => {\n      var row = getRandomNumber(0, 4);\n      var column = getRandomNumber(0, 4);\n      return [row, column];\n    };\n\n    var squareCoordinates = getRandomSquare();\n\n    if (matrix[squareCoordinates[0]][squareCoordinates[1]] === 0) {\n      matrix[squareCoordinates[0]][squareCoordinates[1]] = 2;\n      this.setState({\n        matrix\n      });\n    } else {\n      this.addNewSquare();\n    }\n  }\n\n  handleLeftSelect() {\n    this.traverseMatrixHorizontal(\"left\");\n    this.addNewSquare();\n    this.getMovesLeftCount();\n  }\n\n  handleRightSelect() {\n    this.traverseMatrixHorizontal(\"right\");\n    this.addNewSquare();\n    this.getMovesLeftCount();\n  }\n\n  handleUpSelect() {\n    this.traverseMatrixVertical(\"up\");\n    this.addNewSquare();\n    this.getMovesLeftCount();\n  }\n\n  handleDownSelect() {\n    this.traverseMatrixVertical(\"down\");\n    this.addNewSquare();\n    this.getMovesLeftCount();\n  }\n\n  checkKeyPress(key) {\n    console.log(key);\n    var left = {\n      keyCode: 37,\n      handleDirectionSelection: this.handleLeftSelect\n    };\n    var right = {\n      keyCode: 39,\n      handleDirectionSelection: this.handleRightSelect\n    };\n    var up = {\n      keyCode: 38,\n      handleDirectionSelection: this.handleUpSelect\n    };\n    var down = {\n      keyCode: 40,\n      handleDirectionSelection: this.handleDownSelect\n    };\n    var controls = [left, right, up, down];\n    controls.forEach(direction => {\n      if (direction.keyCode === key.keyCode) direction.handleDirectionSelection();\n    });\n  }\n\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.checkKeyPress, false);\n  }\n\n  render() {\n    const {\n      matrix\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"twentyFourtyEight\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }\n    }, \"2048\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"board\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }\n    }, matrix.map((row, rIndex) => /*#__PURE__*/React.createElement(\"div\", {\n      key: rIndex,\n      className: \"row\",\n      id: `row-${rIndex + 1}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 13\n      }\n    }, row.map((box, bIndex) => /*#__PURE__*/React.createElement(\"div\", {\n      key: bIndex,\n      className: box !== 0 ? \"open\" : \"closed\",\n      id: `box-${box}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"box\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 19\n      }\n    }, box !== 0 ? box : null))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dashboard\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"score\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 13\n      }\n    }, \"SCORE: \", `${this.state.score}`), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"controller\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"up\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"button\",\n      id: \"up-arrow\",\n      onClick: this.handleUpSelect,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 15\n      }\n    }, \"\\u2191\"), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"left-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"side\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"button\",\n      id: \"left-arrow\",\n      onClick: this.handleLeftSelect,\n      onKeyPress: () => {\n        console.log(\"key press\");\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 15\n      }\n    }, \"\\u2190\"), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"button\",\n      id: \"right-arrow\",\n      onClick: this.handleRightSelect,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 15\n      }\n    }, \"\\u2192\"), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"down\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"button\",\n      id: \"down-arrow\",\n      onClick: this.handleDownSelect,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 15\n      }\n    }, \"\\u2193\"), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"buttons\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"button\",\n      id: \"restart\",\n      onClick: this.initiateNewGame,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 15\n      }\n    }, this.state.initiated ? \"Restart\" : \"Play\"), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 15\n      }\n    })))));\n  }\n\n}\n\nexport default TwentyFourtyEight;","map":{"version":3,"sources":["/Users/syoh/Desktop/App/portfolio.github.io/src/components/TwentyFourtyEight.js"],"names":["React","TwentyFourtyEight","Component","constructor","props","state","matrix","rows","columns","spaces","score","initiated","handleLeftSelect","bind","handleRightSelect","handleUpSelect","handleDownSelect","traverseMatrixVertical","traverseMatrixHorizontal","addNewSquare","getMovesLeftCount","checkKeyPress","initiateNewGame","window","confirm","setState","spacesLeft","filter","value","length","alert","direction","i","occupied","remainder","empty","j","push","row","shift","k","column","moveLeft","forEach","includes","getRandomNumber","min","max","Math","floor","random","getRandomSquare","squareCoordinates","key","console","log","left","keyCode","handleDirectionSelection","right","up","down","controls","componentDidMount","addEventListener","render","map","rIndex","box","bIndex"],"mappings":"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","sourcesContent":["import React from 'react';\nimport '../css/TwentyFourtyEight.css';\n\n\nclass TwentyFourtyEight extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      matrix: [[0,0,0,0], [0,0,0,0], [0,0,0,0], [0,0,0,0]],\n      rows: [0,1],\n      columns: [0,1,2,3],\n      spaces: 16,\n      score: 0,\n      initiated: false\n    }\n    this.handleLeftSelect = this.handleLeftSelect.bind(this);\n    this.handleRightSelect = this.handleRightSelect.bind(this);\n    this.handleUpSelect = this.handleUpSelect.bind(this);\n    this.handleDownSelect = this.handleDownSelect.bind(this);\n    this.traverseMatrixVertical = this.traverseMatrixVertical.bind(this);\n    this.traverseMatrixHorizontal = this.traverseMatrixHorizontal.bind(this);\n    this.addNewSquare = this.addNewSquare.bind(this);\n    this.getMovesLeftCount = this.getMovesLeftCount.bind(this);\n    this.checkKeyPress = this.checkKeyPress.bind(this);\n    this.initiateNewGame = this.initiateNewGame.bind(this);\n  }\n\n  initiateNewGame() {\n    var {initiated} = this.state;\n    if(initiated) {\n      if(window.confirm(\"are you sure?\")) {\n        this.setState({\n          matrix: [[0,0,0,0], [0,0,0,0], [0,0,0,0], [0,0,0,0]],\n          rows: [0,1],\n          columns: [0,1,2,3],\n          spaces: 16,\n          score: 0,\n          initiated: false\n        })\n        \n      }\n    } else {\n      this.addNewSquare();\n      this.setState({initiated: true});\n    }\n  }\n\n  getMovesLeftCount() {\n    var {matrix, score} = this.state;\n    var spaces = [...matrix[0], ...matrix[1], ...matrix[2], ...matrix[3]]\n    var spacesLeft = spaces.filter((value) => (value === 0));\n    if(spacesLeft.length === -1) alert(\"game over\")\n    this.setState({spaces: spacesLeft.length, score: score+1})\n  }\n\n  traverseMatrixHorizontal(direction) {\n    var {matrix} = this.state;\n    for(var i = 0; i < 4; i++) {\n      var occupied = [];\n      var remainder = [];\n      var empty = [];\n      for(var j = 0; j < 4; j++) {\n        matrix[i][j] === 0 ? empty.push(matrix[i][j]) : occupied.push(matrix[i][j])\n      }\n      var row = [];\n      while(occupied.length > 0) {\n        var value = occupied.shift();\n        if(occupied[0] === value) {\n          occupied.shift();\n          remainder.push(value * 2)\n          empty.push(0);\n        } else {\n          remainder.push(value);\n        }\n      }\n      if(direction === \"right\") row = [...empty, ...remainder];\n      if(direction === \"left\") row = [...remainder, ...empty]\n      for(var k = 0; k < 4; k++) {\n        matrix[i][k] = row[k]\n      }\n    }\n    this.setState({matrix})\n  }\n\n  traverseMatrixVertical(direction) {\n    var {matrix} = this.state;\n    for(var i = 0; i < 4; i++) {\n      var occupied = [];\n      var empty = [];\n      var remainder = [];\n      for(var j = 0; j < 4; j++) {\n        matrix[j][i] === 0 ? empty.push(matrix[j][i]) : occupied.push(matrix[j][i])\n      }\n      while(occupied.length > 0) {\n        var value = occupied.shift();\n        if(occupied[0] === value) {\n          occupied.shift();\n          remainder.push(value * 2)\n          empty.push(0);\n        } else {\n          remainder.push(value);\n        }\n      }\n      var column = [];\n      if(direction === \"down\") column = [...empty, ...remainder];\n      if(direction === \"up\") column = [...remainder, ...empty]\n      for(var k = 0; k < 4; k++) {\n        matrix[k][i] = column[k]\n      }\n    }\n    this.setState({matrix})\n  }\n\n  addNewSquare() {\n    var {matrix} = this.state;\n    var moveLeft = false;\n    matrix.forEach(row => {\n      if(row.includes(0)) moveLeft = true;\n    })\n    if(!moveLeft) return \"no moves left\"\n    var getRandomNumber = (min, max) => {\n      return Math.floor(Math.random() * (max - min) + min);\n    }\n    var getRandomSquare = () => {\n      var row = getRandomNumber(0,4);\n      var column = getRandomNumber(0,4)\n      return [row, column];\n    }\n    var squareCoordinates = getRandomSquare();\n    if(matrix[squareCoordinates[0]][squareCoordinates[1]] === 0) {\n      matrix[squareCoordinates[0]][squareCoordinates[1]] = 2;\n      this.setState({matrix})\n    } else {\n      this.addNewSquare();\n    }\n  }\n\n\n  handleLeftSelect() {\n    this.traverseMatrixHorizontal(\"left\")\n    this.addNewSquare();\n    this.getMovesLeftCount();\n  }\n  handleRightSelect() {\n    this.traverseMatrixHorizontal(\"right\");\n    this.addNewSquare();\n    this.getMovesLeftCount();\n  }\n  handleUpSelect() {\n    this.traverseMatrixVertical(\"up\");\n    this.addNewSquare();\n    this.getMovesLeftCount();\n  }\n  handleDownSelect() {\n    this.traverseMatrixVertical(\"down\");\n    this.addNewSquare();\n    this.getMovesLeftCount();\n  }\n  checkKeyPress(key) {\n    console.log(key)\n    var left = {\n      keyCode: 37,\n      handleDirectionSelection: this.handleLeftSelect\n    }\n    var right = {\n      keyCode: 39,\n      handleDirectionSelection: this.handleRightSelect\n    }\n    var up = {\n      keyCode: 38,\n      handleDirectionSelection: this.handleUpSelect\n    }\n    var down = {\n      keyCode: 40,\n      handleDirectionSelection: this.handleDownSelect\n    }\n    var controls = [left, right, up, down];\n    controls.forEach(direction => {\n      if(direction.keyCode === key.keyCode) direction.handleDirectionSelection();\n    })\n  }\n\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.checkKeyPress, false);\n  \n  }\n\n  render() {\n    const {matrix} = this.state;\n    return (\n      <div className=\"twentyFourtyEight\">\n        <h3>2048</h3>\n        <div className=\"board\">\n          {matrix.map((row, rIndex) => (\n            <div key={rIndex} className=\"row\" id={`row-${rIndex+1}`}>\n              {row.map((box, bIndex) => (\n                <div key={bIndex} className={box !== 0 ? \"open\" : \"closed\"} id={`box-${box}`}>\n                  <p className=\"box\">{box !== 0 ? box : null}</p>\n                </div>\n              ))}\n            </div>\n          ))}\n          <div className=\"dashboard\">\n            <span/>\n            <div className=\"score\">\n              SCORE: {`${this.state.score}`}\n            </div>\n            <span/>\n          </div>\n          <div className=\"controller\">\n            <div className=\"up\">\n              <div/>\n              <div/>\n              <span/>\n              <button \n                  className=\"button\" \n                  id=\"up-arrow\"\n                  onClick={this.handleUpSelect}\n                >\n                  &uarr;\n              </button>\n              <span/>\n              <span/>\n              <span/>\n            </div>\n            <div className=\"left-right\">\n              <span/>\n              <span className=\"side\"/>\n              <button \n                className=\"button\" \n                id=\"left-arrow\"\n                onClick={this.handleLeftSelect}\n                onKeyPress={() => {console.log(\"key press\")}}\n              >\n                &larr;\n              </button>\n              <span/>\n              <button \n                className=\"button\" \n                id=\"right-arrow\"\n                onClick={this.handleRightSelect}\n              >\n                &rarr;\n              </button>\n              <span/>\n              <span/>\n            </div>\n            <div className=\"down\">\n              <span/>\n              <span/>\n              <span/>\n              <button \n                  className=\"button\" \n                  id=\"down-arrow\"\n                  onClick={this.handleDownSelect}\n                >\n                  &darr;\n              </button>\n              <span/>\n              <span/>\n              <span/>\n            </div>\n            <div className=\"buttons\">\n              <span/>\n              <button \n                  className=\"button\"\n                  id=\"restart\"\n                  onClick={this.initiateNewGame}\n                >\n                  {this.state.initiated ? \"Restart\" : \"Play\"}\n              </button>\n              <span/>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default TwentyFourtyEight;\n"]},"metadata":{},"sourceType":"module"}